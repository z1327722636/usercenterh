(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{2603:function(B,u,e){"use strict";e.d(u,{Z:function(){return c}});var d=e(28991),p=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},o=O,j=e(27029),E=function(h,S){return p.createElement(j.Z,(0,d.Z)((0,d.Z)({},h),{},{ref:S,icon:o}))},t=p.forwardRef(E),c=t},5966:function(B,u,e){"use strict";var d=e(22122),p=e(81253),O=e(67294),o=e(81160),j=["fieldProps","proFieldProps"],E=["fieldProps","proFieldProps"],t="text",c=function(l){var s=l.fieldProps,i=l.proFieldProps,T=(0,p.Z)(l,j);return O.createElement(o.Z,(0,d.Z)({mode:"edit",valueType:t,fieldProps:s,filedConfig:{valueType:t},proFieldProps:i},T))},Z=function(l){var s=l.fieldProps,i=l.proFieldProps,T=(0,p.Z)(l,E);return O.createElement(o.Z,(0,d.Z)({mode:"edit",valueType:"password",fieldProps:s,proFieldProps:i,filedConfig:{valueType:t}},T))},h=c;h.Password=Z,h.displayName="ProFormComponent",u.Z=h},43504:function(B,u,e){"use strict";e.d(u,{U:function(){return l}});var d=e(22122),p=e(84305),O=e(39559),o=e(28991),j=e(81253),E=e(41420),t=e(67294),c=e(5894),Z=e(32384),h=e.n(Z),S=["logo","message","contentStyle","title","subTitle","actions","children"];function l(s){var i=s.logo,T=s.message,X=s.contentStyle,R=s.title,k=s.subTitle,z=s.actions,G=s.children,a=(0,j.Z)(s,S),w=(0,E.YB)(),q=a.submitter===!1?!1:(0,o.Z)((0,o.Z)({searchConfig:{submitText:w.getMessage("loginForm.submitText","\u767B\u5F55")},submitButtonProps:{size:"large",style:{width:"100%"}}},a.submitter),{},{render:function(K,V){var I,N,H=V.pop();if((a==null||(I=a.submitter)===null||I===void 0?void 0:I.render)===void 0)return H;if(typeof(a==null||(N=a.submitter)===null||N===void 0?void 0:N.render)=="function"){var F,m;return a==null||(F=a.submitter)===null||F===void 0||(m=F.render)===null||m===void 0?void 0:m.call(F,K,V)}return H}}),x=(0,t.useContext)(O.ZP.ConfigContext),_=x.getPrefixCls("pro-form-login"),v=function(K){return"".concat(_,"-").concat(K)},W=(0,t.useMemo)(function(){return i?typeof i=="string"?t.createElement("img",{src:i}):i:null},[i]);return t.createElement("div",{className:v("container")},t.createElement("div",{className:v("top")},R||W?t.createElement("div",{className:v("header")},W?t.createElement("span",{className:v("logo")},W):null,R?t.createElement("span",{className:v("title")},R):null):null,k?t.createElement("div",{className:v("desc")},k):null),t.createElement("div",{className:v("main"),style:(0,o.Z)({width:328},X)},t.createElement(c.A,(0,d.Z)({isKeyPressSubmit:!0},a,{submitter:q}),T,G),z?t.createElement("div",{className:v("other")},z):null))}},34687:function(B){B.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},32384:function(){},34436:function(B,u,e){"use strict";e.d(u,{J:function(){return d}});var d="https://avatars.githubusercontent.com/u/137367017?v=4"},11436:function(B,u,e){"use strict";e.r(u),e.d(u,{default:function(){return de}});var d=e(57663),p=e(71577),O=e(18106),o=e(63885),j=e(34792),E=e(48086),t=e(90636),c=e(11849),Z=e(3182),h=e(2824),S=e(17462),l=e(76772),s=e(34436),i=e(71390),T=e(94567),X=e(89366),R=e(2603),k=e(63185),z=e(9676),G=e(22122),a=e(28991),w=e(81253),q=e(22270),x=e(67294),_=e(43011),v=e(81160),W=["options","fieldProps","proFieldProps","valueEnum"],ee=x.forwardRef(function(f,L){var D=f.options,U=f.fieldProps,te=f.proFieldProps,J=f.valueEnum,b=(0,w.Z)(f,W);return x.createElement(v.Z,(0,G.Z)({ref:L,valueType:"checkbox",mode:"edit",valueEnum:(0,q.h)(J,void 0),fieldProps:(0,a.Z)({options:D},U),proFieldProps:te},b))}),K=x.forwardRef(function(f,L){var D=f.fieldProps,U=f.children;return x.createElement(z.Z,(0,G.Z)({ref:L},D),U)}),V=(0,_.G)(K,{valuePropName:"checked"}),I=V;I.Group=ee;var N=I,H=e(43504),F=e(5966),m=e(38705),ie=e(34687),Y=e.n(ie),n=e(85893),ne=function(L){var D=L.content;return(0,n.jsx)(l.Z,{style:{marginBottom:24},message:D,type:"error",showIcon:!0})},ue=function(){var L=(0,x.useState)({}),D=(0,h.Z)(L,1),U=D[0],te=(0,x.useState)("account"),J=(0,h.Z)(te,2),b=J[0],ce=J[1],re=(0,m.tT)("@@initialState"),$=re.initialState,ve=re.setInitialState,me=function(){var A=(0,Z.Z)((0,t.Z)().mark(function y(){var C,P;return(0,t.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,$==null||(C=$.fetchUserInfo)===null||C===void 0?void 0:C.call($);case 2:if(P=g.sent,!P){g.next=6;break}return g.next=6,ve(function(Q){return(0,c.Z)((0,c.Z)({},Q),{},{currentUser:P})});case 6:case"end":return g.stop()}},y)}));return function(){return A.apply(this,arguments)}}(),fe=function(){var A=(0,Z.Z)((0,t.Z)().mark(function y(C){var P,M,g,Q,oe,le;return(0,t.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,T.x4)((0,c.Z)((0,c.Z)({},C),{},{type:b}));case 3:if(P=r.sent,P==null){r.next=17;break}return console.log("loginuser:",P),M="\u767B\u5F55\u6210\u529F\uFF01",E.ZP.success(M),r.next=10,me();case 10:if(m.m8){r.next=12;break}return r.abrupt("return");case 12:return g=m.m8.location.query,console.log("\u83B7\u53D6\u9875\u9762",m.m8.location),Q=g,oe=Q.redirect,m.m8.push(oe||"/"),r.abrupt("return");case 17:console.log("21321"+P),r.next=24;break;case 20:r.prev=20,r.t0=r.catch(0),le="\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",E.ZP.error(le);case 24:case"end":return r.stop()}},y,null,[[0,20]])}));return function(C){return A.apply(this,arguments)}}(),ge=function(){m.m8.push("/user/register")},se=U.status,ae=U.type;return(0,n.jsxs)("div",{className:Y().container,children:[(0,n.jsx)("div",{className:Y().content,children:(0,n.jsxs)(H.U,{logo:(0,n.jsx)("img",{alt:"logo",src:s.J}),title:"\u7528\u6237\u4E2D\u5FC3",subTitle:"\u7528\u6237\u4E2D\u5FC3\u6A21\u677F",initialValues:{autoLogin:!0},onFinish:function(){var A=(0,Z.Z)((0,t.Z)().mark(function y(C){return(0,t.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,fe(C);case 2:case"end":return M.stop()}},y)}));return function(y){return A.apply(this,arguments)}}(),children:[(0,n.jsx)(o.Z,{activeKey:b,onChange:ce,children:(0,n.jsx)(o.Z.TabPane,{tab:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55"},"account")}),se==="error"&&ae==="account"&&(0,n.jsx)(ne,{content:"\u9519\u8BEF\u7684\u8D26\u53F7\u548C\u5BC6\u7801"}),b==="account"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.Z,{name:"userAccount",fieldProps:{size:"large",prefix:(0,n.jsx)(X.Z,{className:Y().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",rules:[{required:!0,message:"\u8D26\u53F7\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,n.jsx)(F.Z.Password,{name:"userPassword",fieldProps:{size:"large",prefix:(0,n.jsx)(R.Z,{className:Y().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"},{min:8,type:"string",message:"\u5BC6\u7801\u957F\u5EA6\u4E0D\u80FD\u5C0F\u4E8E8\u4F4D\uFF01"}]})]}),se==="error"&&ae==="mobile"&&(0,n.jsx)(ne,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),(0,n.jsxs)("div",{style:{marginBottom:24},children:[(0,n.jsx)(N,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"}),(0,n.jsx)("a",{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801 \u8BF7\u8054\u7CFB\u4F5C\u8005?"})]}),(0,n.jsx)(p.Z,{type:"primary",style:{marginBottom:10,width:328},className:"ant-btn ant-btn-primary ant-btn-lg",onClick:ge,children:"\u65B0\u7528\u6237\u6CE8\u518C"})]})}),(0,n.jsx)(i.Z,{})]})},de=ue}}]);
